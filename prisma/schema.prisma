// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  	provider = "prisma-client-js"
}

datasource db {
  	provider = "postgresql"
  	url      = env("DATABASE_URL")
}

model User {
  	id Int @id @default(autoincrement()) @unique
	firstName String @db.VarChar(20)
	lastName String @db.VarChar(20)
	email String @db.VarChar(50)
	password String @db.VarChar(20)
	description String? @db.Text
	// Thumbnail UserThumbnail?
	projects Project[] @relation(name: "members")
	leaderOfProjects Project[] @relation(name: "leader")
	posts Post[]
}

model Project {
	id Int @id @default(autoincrement()) @unique
	name String @db.VarChar(100)
	description String @db.Text
	// Thumbnail ProjectThumbnail?
	leader User @relation(fields: [leaderId], references: [id], name: "leader")
	leaderId Int
	posts Post[]
	members User[] @relation(name: "members")
	createdAt DateTime @default(now())
	updatedAt DateTime @updatedAt
}

model Post {
	id Int @id @default(autoincrement()) @unique
	// images Image[]
	// attachments Attachment[]
	content String @db.Text
	author User @relation(fields: [authorId], references: [id])
	authorId Int
	project Project @relation(fields: [projectId], references: [id])
	projectId Int
}